document.addEventListener("DOMContentLoaded",function(){window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("JavaScript initialized"),window.SwiftCSVCore&&SwiftCSVCore.initLoggingSystem();const i=document.querySelectorAll('input[name="swift_csv_export_scope"]'),o=document.getElementById("custom-export-help");i.length&&o&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Export scope toggle initialized"),i.forEach(t=>{t.addEventListener("change",function(){o.style.display=this.value==="custom"?"block":"none"})}));const e=()=>{const t=()=>{if(window.SwiftCSVCore&&window.SwiftCSVExport&&window.SwiftCSVImport&&window.SwiftCSVLicense){window.SwiftCSVImport&&window.SwiftCSVImport.initFileUpload();const n=document.querySelector("#swift-csv-ajax-export-form");n&&window.SwiftCSVExport&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Ajax export form initialized"),n.addEventListener("submit",window.SwiftCSVExport.handleAjaxExport));const w=document.querySelector("#swift-csv-ajax-import-form");w&&window.SwiftCSVImport&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Ajax import form initialized"),w.addEventListener("submit",window.SwiftCSVImport.handleAjaxImport)),window.SwiftCSVLicense&&window.SwiftCSVLicense.initLicense()}else setTimeout(t,50)};t()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):setTimeout(e,100)});function addLogEntry(i,o="info",e="export"){const t=document.querySelector(`#${e}-log-content`);if(!t)return;const n=document.createElement("div");n.className=`log-entry log-${o} log-${e}`;const w=new Date().toLocaleTimeString();n.innerHTML=`<span class="log-time">[${w}]</span> <span class="log-message">${i}</span>`,t.appendChild(n),t.scrollTop=t.scrollHeight}function clearLog(i="all"){if(i==="all")document.querySelectorAll(".log-content").forEach(e=>e.innerHTML="");else{const o=document.querySelector(`#${i}-log-content`);o&&(o.innerHTML="")}}window.SwiftCSVUtils={addLogEntry,clearLog};
