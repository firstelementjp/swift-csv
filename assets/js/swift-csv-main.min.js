document.addEventListener("DOMContentLoaded",function(){window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("JavaScript initialized"),window.SwiftCSVCore&&SwiftCSVCore.initLoggingSystem();const e=document.querySelectorAll('input[name="swift_csv_export_scope"]'),t=document.getElementById("custom-export-help");e.length&&t&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Export scope toggle initialized"),e.forEach(o=>{o.addEventListener("change",function(){t.style.display=this.value==="custom"?"block":"none"})}));const i=document.querySelectorAll('input[name="swift_csv_export_post_status"]'),n=document.getElementById("custom-post-status-help");i.length&&n&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Post status toggle initialized"),i.forEach(o=>{o.addEventListener("change",function(){n.style.display=this.value==="custom"?"block":"none"})}));const s=()=>{const o=()=>{if(window.SwiftCSVCore&&window.SwiftCSVExport&&window.SwiftCSVImport){window.SwiftCSVImport&&window.SwiftCSVImport.initFileUpload();const w=document.querySelector("#swift-csv-ajax-export-form");w&&window.SwiftCSVExport&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Ajax export form initialized"),w.addEventListener("submit",window.SwiftCSVExport.handleAjaxExport));const d=document.querySelector("#swift-csv-ajax-import-form");d&&window.SwiftCSVImport&&(window.SwiftCSVCore&&window.swiftCSV&&window.swiftCSV.debug&&SwiftCSVCore.swiftCSVLog("Ajax import form initialized"),d.addEventListener("submit",window.SwiftCSVImport.handleAjaxImport)),window.SwiftCSVLicense&&window.SwiftCSVLicense.initLicense()}else setTimeout(o,50)};o()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):setTimeout(s,100)});function addLogEntry(e,t="info",i="export"){const n=document.querySelector(`#${i}-log-content`);if(!n)return;const s=document.createElement("div");s.className=`log-entry log-${t} log-${i}`;const o=new Date().toLocaleTimeString();s.innerHTML=`<span class="log-time">[${o}]</span> <span class="log-message">${e}</span>`,n.appendChild(s),n.scrollTop=n.scrollHeight}function clearLog(e="all"){if(e==="all")document.querySelectorAll(".log-content").forEach(i=>i.innerHTML="");else{const t=document.querySelector(`#${e}-log-content`);t&&(t.innerHTML="")}}window.SwiftCSVUtils={addLogEntry,clearLog};
